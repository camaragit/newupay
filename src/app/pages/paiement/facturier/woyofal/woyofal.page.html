<app-header [headerTitle]="headerTitle"></app-header>
<ion-content>
    <div style="padding: 15px">
        <form [formGroup]="clientForm">
            <div class="formdiv releve"  [style.border-color]="clientForm.controls.numcompteur.errors && clientForm.controls.numcompteur.touched ? 'red' : '#578cc9'">
                <label>Renseigner le numéro de compteur</label>
                <input type="tel" (input)="vider()" formControlName="numcompteur" placeholder="Entrer le numéro ici" />
                <div></div>
            </div>

            <div class="flex2 flexcenter" id="btncontrol">
                <button [style.background]="clientForm.controls.numcompteur.invalid ? '#CFD8DC' : '#074A94'" [disabled]="clientForm.controls.numcompteur.invalid" (click)="relever()"
                    style="height: 46px;width: 100%;border-radius: 5px;margin-top: 15px;" id="btnsvt"
                    class="btnbleu">Relever</button>
            </div>
            <div *ngIf="showdetails">
                <div *ngIf="!newclient" style="border-left: 5px solid #074A94;margin-top: 20px;" class="formdiv releve">
                    <div style="padding: 1px;">
                        <label>Prénom et nom :</label> <span style="color:#6f6f6f"> {{clientForm.controls.NomClient.value}}</span>
                    </div>
                    <div style="padding: 1px;">
                        <label>Adresse :</label> <span style="color:#6f6f6f">{{clientForm.controls.adrsClient.value}}</span>
                    </div>
                    <div style="padding: 1px;">
                        <label>Téléphone :</label> <span style="color:#6f6f6f">{{clientForm.controls.telClient.value}}</span>
                    </div>

                </div>
                <div *ngIf="newclient" style="margin-top: 20px;">
                    <div class="formdiv releve"
                        [style.border-color]="clientForm.controls.NomClient.errors && clientForm.controls.NomClient.touched ? 'red' : '#578cc9'">
                        <label>Saisir le nom complet * </label>
                        <input type="text" formControlName="NomClient" placeholder="Entrer le prénom  ici" />
                        <div></div>
                    </div>

                    <div class="formdiv releve"
                        [style.border-color]="clientForm.controls.adrsClient.errors && clientForm.controls.adrsClient.touched ? 'red' : '#578cc9'">
                        <label>Saisir Adresse * </label>
                        <input type="text" formControlName="adrsClient" placeholder="Entrer l'adresse ici" />
                        <div></div>
                    </div>

                    <div class="formdiv "
                        [style.border-color]="clientForm.controls.telClient.errors && clientForm.controls.telClient.touched ? 'red' : '#578cc9'">
                        <label>Saisir Téléphone * </label>
                        <input type="tel" prefix="+221 " mask="00-000-00-00" formControlName="telClient"
                            placeholder="Entrer le téléphone ici" />

                    </div>
                </div>

                <div *ngIf="!affiche" class="formdiv releve">
                    <label>Renseigner le montant souhaité</label>
                    <input type="number" formControlName="mnttotal" placeholder="Entrer le montant ici" />
                    <div></div>
                </div>

                <div *ngIf="!affiche" class="flex2 flexcenter" id="btncontrol">
                    <button style="height: 46px;width: 100%;border-radius: 5px;margin-top: 15px;" id="btnsvt"
                        class="btnbleu" [style.background]="clientForm.invalid ? '#CFD8DC' : '#074A94'" (click)="showPin()">Valider</button>
                </div>

            </div>

        </form>
        <div id="abonnement" class="bodycontent" *ngIf="recentsContacts?.length > 0" >
                <div class="titrehistorique">Compteur(s) récent(s)</div>
                <div *ngFor="let recent of recentsContacts" class = "ligne" style="display: flex;" (click)="selectRecent(recent)" >
                  <div class="ligneitemfirst" style="align-items: center;border-left: 5px solid green;background: #f6fbf3;">
                    <img style="width: 70%" [src]="image" alt="">
                  </div>
                  <div class="ligneitem">
                    <span  class="ligneitem1" style="text-transform: uppercase" >CLIENT</span>
                    <span  class="ligneitem2" >{{recent.nomclient}}</span>
                  </div>
                  <div class="ligneitem">
                      <span class="ligneitem1" style="border: none;text-transform: uppercase" >N° Compteur</span>
                      <span style="border: none" class="ligneitem2" >{{recent.reference}}</span>
                 </div>
<!--                     <div class="ligneitem">
                        <span style="border: none" style="text-transform: uppercase" class="ligneitem1" >Montant</span>
                        <span style="border: none" class="ligneitem2" >{{recent.montant}}</span>
                      </div> -->
                </div>
            
        </div>
    </div>

</ion-content>

<app-footer></app-footer>